import"./jquery.fine-uploader-fd227c56.js";if(typeof jQuery>"u")throw new Error("Requires jQuery");+function(e){const d=e("meta[name=_token]").attr("content"),l=e("meta[name=_base_url]").attr("content");let t=e("#btn_video_uploader"),s=function(){t.prop("disabled")||(e('input[name="qqfile"]').addClass("disabled").attr("disabled","disabled"),t.addClass("disabled").attr("disabled","disabled").before('<i class="glyphicon glyphicon-refresh glyphicon-spin save-spinner"></i> '))},o=function(){t.prop("disabled")&&(e(".save-spinner").remove(),e('input[name="qqfile"]').removeClass("disabled").removeAttribute("disabled"),t.removeClass("disabled").removeAttribute("disabled"))},r=e("#video_uploader").fineUploader({template:"upload-template",thumbnails:{placeholders:{waitingPath:l+"/images/vendor/fine-uploader/fine-uploader/waiting-generic.png",notAvailablePath:l+"/images/vendor/fine-uploader/fine-uploader/not_available-generic.png"}},request:{endpoint:l+"/my/video/upload",params:{_token:d}},editFilename:{enabled:!1},retry:{enableAuto:!1},chunking:{enabled:!0,partSize:16777216,concurrent:{enabled:!0},success:{endpoint:l+"/my/video/upload/done"}},deleteFile:{enabled:!0,method:"DELETE",endpoint:l+"/my/video/delete",params:{_token:d}},autoUpload:!1,validation:{itemLimit:1,allowedExtensions:["3gp","avi","flv","m4v","mov","mp4","mpeg","mpg","vob","webm","wmv"],sizeLimit:4294967296},callbacks:{onError:function(a,i,n){e(".upload-error").removeClass("hidden"),e(".error-msg").text("Error: "+n),o()},onUpload:function(a,i){s()},onComplete:function(a,i,n){if(n.success){e(".upload-error").addClass("hidden"),e(".error-msg").text("");let u=r.fineUploader("getItemByFileId",a),p=u.find(".uploaded-file");p.append('<input name="filename" type="hidden" value="'+i+'">'),p.append('<input name="uuid" type="hidden" value="'+n.uuid+'">')}else o()},onAllComplete:function(a,i){a.length>0&&e("#form_upload").submit()}}});t.click(function(a){let i=e("#form_upload input[name='title']").val(),n=e("#form_upload textarea[name='description']").val();i==""||n==""?swal("Error!","Video Title and Description are required!","error"):r.fineUploader("uploadStoredFiles"),a.preventDefault()})}(jQuery);
